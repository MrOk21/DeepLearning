U.s. allies sign landmark trade pact as trump announces tariffs