Judge grants bid to narrow trump travel ban