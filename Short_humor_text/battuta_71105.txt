Uganda's president extends 30-year rule, detains rivals after election