Obama takes part in town hall on gun violence