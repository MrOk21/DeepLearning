Battle over confederate flag unravels across the south