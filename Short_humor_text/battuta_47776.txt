Weinstein company files for bankruptcy after sale talks collapse