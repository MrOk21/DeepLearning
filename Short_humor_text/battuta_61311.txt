Republicans kill spending bill over its lgbt protections