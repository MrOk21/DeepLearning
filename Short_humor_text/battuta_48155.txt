U.s., israel agree on military deal of record sum