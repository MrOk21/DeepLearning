Defendant snatches bailiff's gun, kills himself at courthouse